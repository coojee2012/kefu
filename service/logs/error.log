{"date":"Fri Aug 10 2018 11:50:03 GMT+0800 (CST)","process":{"pid":12850,"uid":501,"gid":20,"cwd":"/Users/linyong/xcode/kefu/service","execPath":"/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","version":"v8.9.3","argv":["/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","/Users/linyong/xcode/kefu/service/dist/app.js"],"memoryUsage":{"rss":44879872,"heapTotal":30306304,"heapUsed":26387848,"external":17876652}},"os":{"loadavg":[7.33984375,6.32763671875,5.74658203125],"uptime":94551},"trace":[{"column":34,"file":"/Users/linyong/xcode/kefu/service/dist/models/user.js","function":null,"line":145,"method":null,"native":false},{"column":14,"file":"/Users/linyong/xcode/kefu/service/node_modules/kareem/index.js","function":"model.Query.next","line":86,"method":"next","native":false},{"column":14,"file":"/Users/linyong/xcode/kefu/service/node_modules/kareem/index.js","function":"args","line":80,"method":null,"native":false},{"column":7,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongoose/lib/schema.js","function":null,"line":915,"method":null,"native":false},{"column":14,"file":"/Users/linyong/xcode/kefu/service/node_modules/kareem/index.js","function":"next","line":86,"method":null,"native":false},{"column":8,"file":"/Users/linyong/xcode/kefu/service/node_modules/kareem/index.js","function":"Kareem.execPre","line":103,"method":"execPre","native":false},{"column":8,"file":"/Users/linyong/xcode/kefu/service/node_modules/kareem/index.js","function":"Kareem.wrap","line":237,"method":"wrap","native":false},{"column":11,"file":"/Users/linyong/xcode/kefu/service/node_modules/kareem/index.js","function":"model.Query._execUpdate","line":285,"method":"_execUpdate","native":false},{"column":20,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongoose/lib/query.js","function":"_update","line":3010,"method":null,"native":false},{"column":10,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongoose/lib/query.js","function":"model.Query.Query.update","line":2759,"method":"update","native":false},{"column":21,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongoose/lib/query.js","function":null,"line":3053,"method":null,"native":false},{"column":null,"file":null,"function":"new Promise","line":null,"method":null,"native":false},{"column":17,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongoose/lib/query.js","function":"model.Query.exec","line":3047,"method":"exec","native":false},{"column":15,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongoose/lib/query.js","function":"model.Query.Query.then","line":3095,"method":"then","native":false}],"stack":["TypeError: Cannot read property 'password' of undefined","    at model.Query.<anonymous> (/Users/linyong/xcode/kefu/service/dist/models/user.js:145:34)","    at model.Query.next (/Users/linyong/xcode/kefu/service/node_modules/kareem/index.js:86:14)","    at args (/Users/linyong/xcode/kefu/service/node_modules/kareem/index.js:80:14)","    at model.Query.<anonymous> (/Users/linyong/xcode/kefu/service/node_modules/mongoose/lib/schema.js:915:7)","    at next (/Users/linyong/xcode/kefu/service/node_modules/kareem/index.js:86:14)","    at Kareem.execPre (/Users/linyong/xcode/kefu/service/node_modules/kareem/index.js:103:8)","    at Kareem.wrap (/Users/linyong/xcode/kefu/service/node_modules/kareem/index.js:237:8)","    at model.Query._execUpdate (/Users/linyong/xcode/kefu/service/node_modules/kareem/index.js:285:11)","    at _update (/Users/linyong/xcode/kefu/service/node_modules/mongoose/lib/query.js:3010:20)","    at model.Query.Query.update (/Users/linyong/xcode/kefu/service/node_modules/mongoose/lib/query.js:2759:10)","    at /Users/linyong/xcode/kefu/service/node_modules/mongoose/lib/query.js:3053:21","    at new Promise (<anonymous>)","    at model.Query.exec (/Users/linyong/xcode/kefu/service/node_modules/mongoose/lib/query.js:3047:17)","    at model.Query.Query.then (/Users/linyong/xcode/kefu/service/node_modules/mongoose/lib/query.js:3095:15)"],"req":{"url":"/api/v1/user/163.com/reset","headers":{"host":"192.168.2.101:8008","connection":"keep-alive","content-length":"53","pragma":"no-cache","cache-control":"no-cache","accept":"application/json, text/plain, */*","origin":"http://127.0.0.1:4200","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6IjE1MzA4MDk4MjkwIiwiaWF0IjoxNTMzMTEzMjA5LCJleHAiOjE1MzMxOTk2MDl9.T_sovfMm6Lsli7axzG_93sWhgGyPzRguSJdEafRGDRk","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36","content-type":"application/json","referer":"http://127.0.0.1:4200/app/userma","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en;q=0.8"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/v1/user/163.com/reset","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-08-10T03:50:03.197Z"}
{"date":"Tue Aug 14 2018 16:33:00 GMT+0800 (CST)","process":{"pid":13666,"uid":501,"gid":20,"cwd":"/Users/linyong/xcode/kefu/service","execPath":"/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","version":"v8.9.3","argv":["/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","/Users/linyong/xcode/kefu/service/dist/app.js"],"memoryUsage":{"rss":48553984,"heapTotal":28209152,"heapUsed":24523488,"external":17948488}},"os":{"loadavg":[6.03271484375,5.64208984375,5.52783203125],"uptime":83529},"trace":[{"column":35,"file":"/Users/linyong/xcode/kefu/service/dist/routes/webApi.js","function":null,"line":70,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js","function":"next","line":137,"method":null,"native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":"complete","line":250,"method":null,"native":false},{"column":15,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":null,"line":257,"method":null,"native":false},{"column":14,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/authenticator.js","function":"pass","line":421,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/authenticator.js","function":"Authenticator.transformAuthInfo","line":443,"method":"transformAuthInfo","native":false},{"column":22,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":null,"line":254,"method":null,"native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/http/request.js","function":"IncomingMessage.req.login.req.logIn","line":63,"method":"logIn","native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":"Strategy.strategy.success","line":235,"method":"success","native":false},{"column":10,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport-http-bearer/lib/strategy.js","function":"verified","line":126,"method":null,"native":false},{"column":24,"file":"/Users/linyong/xcode/kefu/service/dist/config/passport.js","function":null,"line":43,"method":null,"native":false},{"column":18,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongoose/lib/query.js","function":null,"line":3066,"method":null,"native":false},{"column":null,"file":null,"function":null,"line":null,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":188,"method":"_tickCallback","native":false}],"stack":["TypeError: Cannot read property 'create' of undefined","    at /Users/linyong/xcode/kefu/service/dist/routes/webApi.js:70:35","    at Layer.handle [as handle_request] (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js:95:5)","    at next (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js:137:13)","    at complete (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:250:13)","    at /Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:257:15","    at pass (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/authenticator.js:421:14)","    at Authenticator.transformAuthInfo (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/authenticator.js:443:5)","    at /Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:254:22","    at IncomingMessage.req.login.req.logIn (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/http/request.js:63:13)","    at Strategy.strategy.success (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:235:13)","    at verified (/Users/linyong/xcode/kefu/service/node_modules/passport-http-bearer/lib/strategy.js:126:10)","    at /Users/linyong/xcode/kefu/service/dist/config/passport.js:43:24","    at /Users/linyong/xcode/kefu/service/node_modules/mongoose/lib/query.js:3066:18","    at <anonymous>","    at process._tickCallback (internal/process/next_tick.js:188:7)"],"req":{"url":"/api/v1/pbx/extension/163.com","headers":{"host":"192.168.2.101:8008","connection":"keep-alive","content-length":"26","pragma":"no-cache","cache-control":"no-cache","accept":"application/json, text/plain, */*","origin":"http://127.0.0.1:4200","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6IjE1MzA4MDk4MjkwIiwiaWF0IjoxNTM0MTUyNzg1LCJleHAiOjE1MzQyMzkxODV9.ggEmxHlC8P3erKxl6WrKmay92bxc4RTg265AJV8Ve0Q","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36","content-type":"application/json","referer":"http://127.0.0.1:4200/app/set/pbx/extension","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en;q=0.8"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/v1/pbx/extension/163.com","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-08-14T08:33:00.571Z"}
{"date":"Tue Aug 14 2018 16:59:07 GMT+0800 (CST)","process":{"pid":13801,"uid":501,"gid":20,"cwd":"/Users/linyong/xcode/kefu/service","execPath":"/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","version":"v8.9.3","argv":["/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","/Users/linyong/xcode/kefu/service/dist/app.js"],"memoryUsage":{"rss":45199360,"heapTotal":32403456,"heapUsed":29194136,"external":17960575}},"os":{"loadavg":[4.55712890625,5.4150390625,5.9833984375],"uptime":85096},"trace":[{"column":11,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/error.js","function":"Function.MongoError.create","line":31,"method":"create","native":false},{"column":22,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"toError","line":139,"method":null,"native":false},{"column":23,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/collection.js","function":null,"line":668,"method":null,"native":false},{"column":56,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":120,"method":null,"native":false},{"column":9,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js","function":null,"line":465,"method":null,"native":false},{"column":56,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":120,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js","function":"resultHandler","line":413,"method":null,"native":false},{"column":18,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":469,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":131,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":180,"method":"_tickCallback","native":false}],"stack":["MongoError: E11000 duplicate key error collection: test.pbx_extensions index: tenantId_1_accountCode_1 dup key: { : \"163.com\", : \"0100\" }","    at Function.MongoError.create (/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/error.js:31:11)","    at toError (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:139:22)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/collection.js:668:23","    at handleCallback (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:120:56)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js:465:9","    at handleCallback (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:120:56)","    at resultHandler (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js:413:5)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/connection/pool.js:469:18","    at _combinedTickCallback (internal/process/next_tick.js:131:7)","    at process._tickCallback (internal/process/next_tick.js:180:9)"],"req":{"url":"/api/v1/pbx/extension/163.com/add","headers":{"host":"192.168.2.101:8008","connection":"keep-alive","content-length":"61","pragma":"no-cache","cache-control":"no-cache","accept":"application/json, text/plain, */*","origin":"http://127.0.0.1:4200","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6IjE1MzA4MDk4MjkwIiwiaWF0IjoxNTM0MTUyNzg1LCJleHAiOjE1MzQyMzkxODV9.ggEmxHlC8P3erKxl6WrKmay92bxc4RTg265AJV8Ve0Q","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36","content-type":"application/json","referer":"http://127.0.0.1:4200/app/set/pbx/extension","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en;q=0.8"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/v1/pbx/extension/163.com/add","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-08-14T08:59:07.960Z"}
{"date":"Tue Aug 14 2018 17:22:23 GMT+0800 (CST)","process":{"pid":14749,"uid":501,"gid":20,"cwd":"/Users/linyong/xcode/kefu/service","execPath":"/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","version":"v8.9.3","argv":["/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","/Users/linyong/xcode/kefu/service/dist/app.js"],"memoryUsage":{"rss":48517120,"heapTotal":30830592,"heapUsed":27016784,"external":17925874}},"os":{"loadavg":[6.29736328125,6.7509765625,6.5458984375],"uptime":86492},"trace":[{"column":11,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/error.js","function":"Function.MongoError.create","line":31,"method":"create","native":false},{"column":22,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"toError","line":139,"method":null,"native":false},{"column":23,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/collection.js","function":null,"line":668,"method":null,"native":false},{"column":56,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":120,"method":null,"native":false},{"column":9,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js","function":null,"line":465,"method":null,"native":false},{"column":56,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":120,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js","function":"resultHandler","line":413,"method":null,"native":false},{"column":18,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":469,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":131,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":180,"method":"_tickCallback","native":false}],"stack":["MongoError: E11000 duplicate key error collection: test.pbx_extensions index: tenantId_1_accountCode_1 dup key: { : \"163.com\", : \"1002\" }","    at Function.MongoError.create (/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/error.js:31:11)","    at toError (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:139:22)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/collection.js:668:23","    at handleCallback (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:120:56)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js:465:9","    at handleCallback (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:120:56)","    at resultHandler (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js:413:5)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/connection/pool.js:469:18","    at _combinedTickCallback (internal/process/next_tick.js:131:7)","    at process._tickCallback (internal/process/next_tick.js:180:9)"],"req":{"url":"/api/v1/pbx/extension/163.com/add","headers":{"host":"192.168.2.101:8008","connection":"keep-alive","content-length":"61","pragma":"no-cache","cache-control":"no-cache","accept":"application/json, text/plain, */*","origin":"http://127.0.0.1:4200","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6IjE1MzA4MDk4MjkwIiwiaWF0IjoxNTM0MTUyNzg1LCJleHAiOjE1MzQyMzkxODV9.ggEmxHlC8P3erKxl6WrKmay92bxc4RTg265AJV8Ve0Q","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36","content-type":"application/json","referer":"http://127.0.0.1:4200/app/set/pbx/extension","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en;q=0.8"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/v1/pbx/extension/163.com/add","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-08-14T09:22:23.887Z"}
{"date":"Tue Aug 14 2018 17:28:01 GMT+0800 (CST)","process":{"pid":15131,"uid":501,"gid":20,"cwd":"/Users/linyong/xcode/kefu/service","execPath":"/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","version":"v8.9.3","argv":["/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","/Users/linyong/xcode/kefu/service/dist/app.js"],"memoryUsage":{"rss":62676992,"heapTotal":60190720,"heapUsed":31158816,"external":18295080}},"os":{"loadavg":[5.1962890625,5.95263671875,6.23779296875],"uptime":86830},"trace":[{"column":11,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/error.js","function":"Function.MongoError.create","line":31,"method":"create","native":false},{"column":22,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"toError","line":139,"method":null,"native":false},{"column":23,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/collection.js","function":null,"line":668,"method":null,"native":false},{"column":56,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":120,"method":null,"native":false},{"column":9,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js","function":null,"line":465,"method":null,"native":false},{"column":56,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":120,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js","function":"resultHandler","line":413,"method":null,"native":false},{"column":18,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":469,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":131,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":180,"method":"_tickCallback","native":false}],"stack":["MongoError: E11000 duplicate key error collection: test.pbx_extensions index: tenantId_1_accountCode_1 dup key: { : \"163.com\", : \"1002\" }","    at Function.MongoError.create (/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/error.js:31:11)","    at toError (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:139:22)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/collection.js:668:23","    at handleCallback (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:120:56)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js:465:9","    at handleCallback (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:120:56)","    at resultHandler (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js:413:5)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/connection/pool.js:469:18","    at _combinedTickCallback (internal/process/next_tick.js:131:7)","    at process._tickCallback (internal/process/next_tick.js:180:9)"],"req":{"url":"/api/v1/pbx/extension/163.com/add","headers":{"host":"192.168.2.101:8008","connection":"keep-alive","content-length":"61","pragma":"no-cache","cache-control":"no-cache","accept":"application/json, text/plain, */*","origin":"http://127.0.0.1:4200","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6IjE1MzA4MDk4MjkwIiwiaWF0IjoxNTM0MTUyNzg1LCJleHAiOjE1MzQyMzkxODV9.ggEmxHlC8P3erKxl6WrKmay92bxc4RTg265AJV8Ve0Q","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36","content-type":"application/json","referer":"http://127.0.0.1:4200/app/set/pbx/extension","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en;q=0.8"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/v1/pbx/extension/163.com/add","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-08-14T09:28:01.954Z"}
{"date":"Tue Aug 14 2018 17:29:22 GMT+0800 (CST)","process":{"pid":15204,"uid":501,"gid":20,"cwd":"/Users/linyong/xcode/kefu/service","execPath":"/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","version":"v8.9.3","argv":["/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","/Users/linyong/xcode/kefu/service/dist/app.js"],"memoryUsage":{"rss":62910464,"heapTotal":59666432,"heapUsed":29986600,"external":18295067}},"os":{"loadavg":[4.9814453125,5.74169921875,6.13330078125],"uptime":86911},"trace":[{"column":11,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/error.js","function":"Function.MongoError.create","line":31,"method":"create","native":false},{"column":22,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"toError","line":139,"method":null,"native":false},{"column":23,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/collection.js","function":null,"line":668,"method":null,"native":false},{"column":56,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":120,"method":null,"native":false},{"column":9,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js","function":null,"line":465,"method":null,"native":false},{"column":56,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":120,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js","function":"resultHandler","line":413,"method":null,"native":false},{"column":18,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":469,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":131,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":180,"method":"_tickCallback","native":false}],"stack":["MongoError: E11000 duplicate key error collection: test.pbx_extensions index: tenantId_1_accountCode_1 dup key: { : \"163.com\", : \"1002\" }","    at Function.MongoError.create (/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/error.js:31:11)","    at toError (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:139:22)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/collection.js:668:23","    at handleCallback (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:120:56)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js:465:9","    at handleCallback (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:120:56)","    at resultHandler (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js:413:5)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/connection/pool.js:469:18","    at _combinedTickCallback (internal/process/next_tick.js:131:7)","    at process._tickCallback (internal/process/next_tick.js:180:9)"],"req":{"url":"/api/v1/pbx/extension/163.com/add","headers":{"host":"192.168.2.101:8008","connection":"keep-alive","content-length":"61","pragma":"no-cache","cache-control":"no-cache","accept":"application/json, text/plain, */*","origin":"http://127.0.0.1:4200","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6IjE1MzA4MDk4MjkwIiwiaWF0IjoxNTM0MTUyNzg1LCJleHAiOjE1MzQyMzkxODV9.ggEmxHlC8P3erKxl6WrKmay92bxc4RTg265AJV8Ve0Q","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36","content-type":"application/json","referer":"http://127.0.0.1:4200/app/set/pbx/extension","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en;q=0.8"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/v1/pbx/extension/163.com/add","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-08-14T09:29:22.522Z"}
{"date":"Tue Aug 14 2018 17:31:57 GMT+0800 (CST)","process":{"pid":15204,"uid":501,"gid":20,"cwd":"/Users/linyong/xcode/kefu/service","execPath":"/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","version":"v8.9.3","argv":["/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","/Users/linyong/xcode/kefu/service/dist/app.js"],"memoryUsage":{"rss":49836032,"heapTotal":28733440,"heapUsed":25369192,"external":17867704}},"os":{"loadavg":[5.57373046875,5.52197265625,5.95654296875],"uptime":87066},"trace":[{"column":11,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/error.js","function":"Function.MongoError.create","line":31,"method":"create","native":false},{"column":22,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"toError","line":139,"method":null,"native":false},{"column":23,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/collection.js","function":null,"line":668,"method":null,"native":false},{"column":56,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":120,"method":null,"native":false},{"column":9,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js","function":null,"line":465,"method":null,"native":false},{"column":56,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":120,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js","function":"resultHandler","line":413,"method":null,"native":false},{"column":18,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":469,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":131,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":180,"method":"_tickCallback","native":false}],"stack":["MongoError: E11000 duplicate key error collection: test.pbx_extensions index: tenantId_1_accountCode_1 dup key: { : \"163.com\", : \"1003\" }","    at Function.MongoError.create (/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/error.js:31:11)","    at toError (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:139:22)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/collection.js:668:23","    at handleCallback (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:120:56)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js:465:9","    at handleCallback (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:120:56)","    at resultHandler (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js:413:5)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/connection/pool.js:469:18","    at _combinedTickCallback (internal/process/next_tick.js:131:7)","    at process._tickCallback (internal/process/next_tick.js:180:9)"],"req":{"url":"/api/v1/pbx/extension/163.com/add","headers":{"host":"192.168.2.101:8008","connection":"keep-alive","content-length":"61","pragma":"no-cache","cache-control":"no-cache","accept":"application/json, text/plain, */*","origin":"http://127.0.0.1:4200","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6IjE1MzA4MDk4MjkwIiwiaWF0IjoxNTM0MTUyNzg1LCJleHAiOjE1MzQyMzkxODV9.ggEmxHlC8P3erKxl6WrKmay92bxc4RTg265AJV8Ve0Q","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36","content-type":"application/json","referer":"http://127.0.0.1:4200/app/set/pbx/extension","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en;q=0.8"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/v1/pbx/extension/163.com/add","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-08-14T09:31:57.675Z"}
{"date":"Tue Aug 14 2018 17:34:14 GMT+0800 (CST)","process":{"pid":15204,"uid":501,"gid":20,"cwd":"/Users/linyong/xcode/kefu/service","execPath":"/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","version":"v8.9.3","argv":["/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","/Users/linyong/xcode/kefu/service/dist/app.js"],"memoryUsage":{"rss":50233344,"heapTotal":29782016,"heapUsed":26052472,"external":17882028}},"os":{"loadavg":[6.5185546875,6.060546875,6.11572265625],"uptime":87203},"trace":[{"column":11,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/error.js","function":"Function.MongoError.create","line":31,"method":"create","native":false},{"column":22,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"toError","line":139,"method":null,"native":false},{"column":23,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/collection.js","function":null,"line":668,"method":null,"native":false},{"column":56,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":120,"method":null,"native":false},{"column":9,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js","function":null,"line":465,"method":null,"native":false},{"column":56,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":120,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js","function":"resultHandler","line":413,"method":null,"native":false},{"column":18,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":469,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":131,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":180,"method":"_tickCallback","native":false}],"stack":["MongoError: E11000 duplicate key error collection: test.pbx_extensions index: tenantId_1_accountCode_1 dup key: { : \"163.com\", : \"1233\" }","    at Function.MongoError.create (/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/error.js:31:11)","    at toError (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:139:22)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/collection.js:668:23","    at handleCallback (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:120:56)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js:465:9","    at handleCallback (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:120:56)","    at resultHandler (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js:413:5)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/connection/pool.js:469:18","    at _combinedTickCallback (internal/process/next_tick.js:131:7)","    at process._tickCallback (internal/process/next_tick.js:180:9)"],"req":{"url":"/api/v1/pbx/extension/163.com/add","headers":{"host":"192.168.2.101:8008","connection":"keep-alive","content-length":"61","pragma":"no-cache","cache-control":"no-cache","accept":"application/json, text/plain, */*","origin":"http://127.0.0.1:4200","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6IjE1MzA4MDk4MjkwIiwiaWF0IjoxNTM0MjM5MjQzLCJleHAiOjE1MzQzMjU2NDN9.uY2HxpXxL02WcCDVj9RtBHUa2BP3LJsEMbvfIYlNpXk","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36","content-type":"application/json","referer":"http://127.0.0.1:4200/app/set/pbx/extension","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en;q=0.8"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/v1/pbx/extension/163.com/add","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-08-14T09:34:14.415Z"}
{"date":"Tue Aug 14 2018 17:36:31 GMT+0800 (CST)","process":{"pid":15204,"uid":501,"gid":20,"cwd":"/Users/linyong/xcode/kefu/service","execPath":"/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","version":"v8.9.3","argv":["/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","/Users/linyong/xcode/kefu/service/dist/app.js"],"memoryUsage":{"rss":50966528,"heapTotal":29782016,"heapUsed":26253488,"external":17888254}},"os":{"loadavg":[7.02099609375,6.22509765625,6.15087890625],"uptime":87340},"trace":[{"column":11,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/error.js","function":"Function.MongoError.create","line":31,"method":"create","native":false},{"column":22,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"toError","line":139,"method":null,"native":false},{"column":23,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/collection.js","function":null,"line":668,"method":null,"native":false},{"column":56,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":120,"method":null,"native":false},{"column":9,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js","function":null,"line":465,"method":null,"native":false},{"column":56,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":120,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js","function":"resultHandler","line":413,"method":null,"native":false},{"column":18,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":469,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":131,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":180,"method":"_tickCallback","native":false}],"stack":["MongoError: E11000 duplicate key error collection: test.pbx_extensions index: tenantId_1_accountCode_1 dup key: { : \"163.com\", : \"1233\" }","    at Function.MongoError.create (/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/error.js:31:11)","    at toError (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:139:22)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/collection.js:668:23","    at handleCallback (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:120:56)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js:465:9","    at handleCallback (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:120:56)","    at resultHandler (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js:413:5)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/connection/pool.js:469:18","    at _combinedTickCallback (internal/process/next_tick.js:131:7)","    at process._tickCallback (internal/process/next_tick.js:180:9)"],"req":{"url":"/api/v1/pbx/extension/163.com/add","headers":{"host":"192.168.2.101:8008","connection":"keep-alive","content-length":"61","pragma":"no-cache","cache-control":"no-cache","accept":"application/json, text/plain, */*","origin":"http://127.0.0.1:4200","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6IjE1MzA4MDk4MjkwIiwiaWF0IjoxNTM0MjM5MjQzLCJleHAiOjE1MzQzMjU2NDN9.uY2HxpXxL02WcCDVj9RtBHUa2BP3LJsEMbvfIYlNpXk","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36","content-type":"application/json","referer":"http://127.0.0.1:4200/app/set/pbx/extension","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en;q=0.8"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/v1/pbx/extension/163.com/add","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-08-14T09:36:31.039Z"}
{"date":"Tue Aug 14 2018 17:36:39 GMT+0800 (CST)","process":{"pid":15204,"uid":501,"gid":20,"cwd":"/Users/linyong/xcode/kefu/service","execPath":"/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","version":"v8.9.3","argv":["/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","/Users/linyong/xcode/kefu/service/dist/app.js"],"memoryUsage":{"rss":50761728,"heapTotal":30306304,"heapUsed":26043320,"external":17893346}},"os":{"loadavg":[6.69873046875,6.17138671875,6.13232421875],"uptime":87348},"trace":[{"column":11,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/error.js","function":"Function.MongoError.create","line":31,"method":"create","native":false},{"column":22,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"toError","line":139,"method":null,"native":false},{"column":23,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/collection.js","function":null,"line":668,"method":null,"native":false},{"column":56,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":120,"method":null,"native":false},{"column":9,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js","function":null,"line":465,"method":null,"native":false},{"column":56,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":120,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js","function":"resultHandler","line":413,"method":null,"native":false},{"column":18,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":469,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":131,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":180,"method":"_tickCallback","native":false}],"stack":["MongoError: E11000 duplicate key error collection: test.pbx_extensions index: tenantId_1_accountCode_1 dup key: { : \"163.com\", : \"1233\" }","    at Function.MongoError.create (/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/error.js:31:11)","    at toError (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:139:22)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/collection.js:668:23","    at handleCallback (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:120:56)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js:465:9","    at handleCallback (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:120:56)","    at resultHandler (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js:413:5)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/connection/pool.js:469:18","    at _combinedTickCallback (internal/process/next_tick.js:131:7)","    at process._tickCallback (internal/process/next_tick.js:180:9)"],"req":{"url":"/api/v1/pbx/extension/163.com/add","headers":{"host":"192.168.2.101:8008","connection":"keep-alive","content-length":"61","pragma":"no-cache","cache-control":"no-cache","accept":"application/json, text/plain, */*","origin":"http://127.0.0.1:4200","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6IjE1MzA4MDk4MjkwIiwiaWF0IjoxNTM0MjM5MjQzLCJleHAiOjE1MzQzMjU2NDN9.uY2HxpXxL02WcCDVj9RtBHUa2BP3LJsEMbvfIYlNpXk","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36","content-type":"application/json","referer":"http://127.0.0.1:4200/app/set/pbx/extension","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en;q=0.8"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/v1/pbx/extension/163.com/add","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-08-14T09:36:39.395Z"}
{"date":"Tue Aug 14 2018 17:46:25 GMT+0800 (CST)","process":{"pid":15204,"uid":501,"gid":20,"cwd":"/Users/linyong/xcode/kefu/service","execPath":"/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","version":"v8.9.3","argv":["/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","/Users/linyong/xcode/kefu/service/dist/app.js"],"memoryUsage":{"rss":59838464,"heapTotal":32403456,"heapUsed":29358376,"external":17963420}},"os":{"loadavg":[5.4296875,6.2119140625,6.21826171875],"uptime":87934},"trace":[{"column":11,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/error.js","function":"Function.MongoError.create","line":31,"method":"create","native":false},{"column":22,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"toError","line":139,"method":null,"native":false},{"column":23,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/collection.js","function":null,"line":668,"method":null,"native":false},{"column":56,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":120,"method":null,"native":false},{"column":9,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js","function":null,"line":465,"method":null,"native":false},{"column":56,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js","function":"handleCallback","line":120,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js","function":"resultHandler","line":413,"method":null,"native":false},{"column":18,"file":"/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/connection/pool.js","function":null,"line":469,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"_combinedTickCallback","line":131,"method":null,"native":false},{"column":9,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":180,"method":"_tickCallback","native":false}],"stack":["MongoError: E11000 duplicate key error collection: test.pbx_extensions index: tenantId_1_accountCode_1 dup key: { : \"163.com\", : \"1000\" }","    at Function.MongoError.create (/Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/error.js:31:11)","    at toError (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:139:22)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/collection.js:668:23","    at handleCallback (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:120:56)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js:465:9","    at handleCallback (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/utils.js:120:56)","    at resultHandler (/Users/linyong/xcode/kefu/service/node_modules/mongodb/lib/bulk/unordered.js:413:5)","    at /Users/linyong/xcode/kefu/service/node_modules/mongodb-core/lib/connection/pool.js:469:18","    at _combinedTickCallback (internal/process/next_tick.js:131:7)","    at process._tickCallback (internal/process/next_tick.js:180:9)"],"req":{"url":"/api/v1/pbx/extension/163.com/add","headers":{"host":"192.168.2.101:8008","connection":"keep-alive","content-length":"61","pragma":"no-cache","cache-control":"no-cache","accept":"application/json, text/plain, */*","origin":"http://127.0.0.1:4200","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6IjE1MzA4MDk4MjkwIiwiaWF0IjoxNTM0MjM5MjQzLCJleHAiOjE1MzQzMjU2NDN9.uY2HxpXxL02WcCDVj9RtBHUa2BP3LJsEMbvfIYlNpXk","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36","content-type":"application/json","referer":"http://127.0.0.1:4200/app/set/pbx/extension","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en;q=0.8"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/v1/pbx/extension/163.com/add","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-08-14T09:46:25.095Z"}
{"date":"Thu Aug 16 2018 13:54:26 GMT+0800 (CST)","process":{"pid":7303,"uid":501,"gid":20,"cwd":"/Users/linyong/xcode/kefu/service","execPath":"/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","version":"v8.9.3","argv":["/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","/Users/linyong/xcode/kefu/service/dist/app.js"],"memoryUsage":{"rss":62853120,"heapTotal":59666432,"heapUsed":30412120,"external":18514573}},"os":{"loadavg":[5.2705078125,5.376953125,5.19482421875],"uptime":15404},"trace":[{"column":37,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":"attempt","line":173,"method":null,"native":false},{"column":7,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":"authenticate","line":349,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js","function":"next","line":137,"method":null,"native":false},{"column":3,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js","function":"Route.dispatch","line":112,"method":"dispatch","native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":22,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":null,"line":281,"method":null,"native":false},{"column":12,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false}],"stack":["Error: Unknown authentication strategy \"xm_curl\"","    at attempt (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:173:37)","    at authenticate (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:349:7)","    at Layer.handle [as handle_request] (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js:95:5)","    at next (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js:137:13)","    at Route.dispatch (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js:112:3)","    at Layer.handle [as handle_request] (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js:95:5)","    at /Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:281:22","    at Function.process_params (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:335:12)","    at next (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:275:10)","    at Function.handle (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:174:3)","    at router (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:47:12)","    at Layer.handle [as handle_request] (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js:95:5)","    at trim_prefix (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:317:13)","    at /Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:284:7","    at Function.process_params (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:335:12)","    at next (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:275:10)"],"req":{"url":"/api/v1/fs/directory","headers":{"user-agent":"freeswitch-xml/1.0","host":"192.168.2.101:8008","accept":"*/*","content-length":"1243","content-type":"application/x-www-form-urlencoded"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/v1/fs/directory","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-08-16T05:54:26.423Z"}
{"date":"Thu Aug 16 2018 13:54:27 GMT+0800 (CST)","process":{"pid":7303,"uid":501,"gid":20,"cwd":"/Users/linyong/xcode/kefu/service","execPath":"/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","version":"v8.9.3","argv":["/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","/Users/linyong/xcode/kefu/service/dist/app.js"],"memoryUsage":{"rss":63090688,"heapTotal":59666432,"heapUsed":31052528,"external":18521456}},"os":{"loadavg":[5.2705078125,5.376953125,5.19482421875],"uptime":15405},"trace":[{"column":37,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":"attempt","line":173,"method":null,"native":false},{"column":7,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":"authenticate","line":349,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js","function":"next","line":137,"method":null,"native":false},{"column":3,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js","function":"Route.dispatch","line":112,"method":"dispatch","native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":22,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":null,"line":281,"method":null,"native":false},{"column":12,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false}],"stack":["Error: Unknown authentication strategy \"xm_curl\"","    at attempt (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:173:37)","    at authenticate (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:349:7)","    at Layer.handle [as handle_request] (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js:95:5)","    at next (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js:137:13)","    at Route.dispatch (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js:112:3)","    at Layer.handle [as handle_request] (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js:95:5)","    at /Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:281:22","    at Function.process_params (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:335:12)","    at next (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:275:10)","    at Function.handle (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:174:3)","    at router (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:47:12)","    at Layer.handle [as handle_request] (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js:95:5)","    at trim_prefix (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:317:13)","    at /Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:284:7","    at Function.process_params (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:335:12)","    at next (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:275:10)"],"req":{"url":"/api/v1/fs/directory","headers":{"user-agent":"freeswitch-xml/1.0","host":"192.168.2.101:8008","accept":"*/*","content-length":"1243","content-type":"application/x-www-form-urlencoded"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/v1/fs/directory","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-08-16T05:54:27.018Z"}
{"date":"Thu Aug 16 2018 13:54:53 GMT+0800 (CST)","process":{"pid":7303,"uid":501,"gid":20,"cwd":"/Users/linyong/xcode/kefu/service","execPath":"/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","version":"v8.9.3","argv":["/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","/Users/linyong/xcode/kefu/service/dist/app.js"],"memoryUsage":{"rss":49311744,"heapTotal":29257728,"heapUsed":24308344,"external":17856485}},"os":{"loadavg":[5.52783203125,5.4267578125,5.216796875],"uptime":15431},"trace":[{"column":37,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":"attempt","line":173,"method":null,"native":false},{"column":7,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":"authenticate","line":349,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js","function":"next","line":137,"method":null,"native":false},{"column":3,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js","function":"Route.dispatch","line":112,"method":"dispatch","native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":22,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":null,"line":281,"method":null,"native":false},{"column":12,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false}],"stack":["Error: Unknown authentication strategy \"xm_curl\"","    at attempt (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:173:37)","    at authenticate (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:349:7)","    at Layer.handle [as handle_request] (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js:95:5)","    at next (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js:137:13)","    at Route.dispatch (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js:112:3)","    at Layer.handle [as handle_request] (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js:95:5)","    at /Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:281:22","    at Function.process_params (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:335:12)","    at next (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:275:10)","    at Function.handle (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:174:3)","    at router (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:47:12)","    at Layer.handle [as handle_request] (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js:95:5)","    at trim_prefix (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:317:13)","    at /Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:284:7","    at Function.process_params (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:335:12)","    at next (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:275:10)"],"req":{"url":"/api/v1/fs/directory","headers":{"user-agent":"freeswitch-xml/1.0","host":"192.168.2.101:8008","accept":"*/*","content-length":"1286","content-type":"application/x-www-form-urlencoded"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/v1/fs/directory","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-08-16T05:54:53.009Z"}
{"date":"Thu Aug 16 2018 13:57:53 GMT+0800 (CST)","process":{"pid":7303,"uid":501,"gid":20,"cwd":"/Users/linyong/xcode/kefu/service","execPath":"/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","version":"v8.9.3","argv":["/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","/Users/linyong/xcode/kefu/service/dist/app.js"],"memoryUsage":{"rss":38612992,"heapTotal":29257728,"heapUsed":24724984,"external":17871668}},"os":{"loadavg":[5.4755859375,5.65185546875,5.3603515625],"uptime":15611},"trace":[{"column":37,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":"attempt","line":173,"method":null,"native":false},{"column":7,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":"authenticate","line":349,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js","function":"next","line":137,"method":null,"native":false},{"column":3,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js","function":"Route.dispatch","line":112,"method":"dispatch","native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":22,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":null,"line":281,"method":null,"native":false},{"column":12,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false}],"stack":["Error: Unknown authentication strategy \"xm_curl\"","    at attempt (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:173:37)","    at authenticate (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:349:7)","    at Layer.handle [as handle_request] (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js:95:5)","    at next (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js:137:13)","    at Route.dispatch (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js:112:3)","    at Layer.handle [as handle_request] (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js:95:5)","    at /Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:281:22","    at Function.process_params (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:335:12)","    at next (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:275:10)","    at Function.handle (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:174:3)","    at router (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:47:12)","    at Layer.handle [as handle_request] (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js:95:5)","    at trim_prefix (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:317:13)","    at /Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:284:7","    at Function.process_params (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:335:12)","    at next (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/index.js:275:10)"],"req":{"url":"/api/v1/fs/directory","headers":{"authorization":"Basic ZnJlZXN3aXRjaDprZjIwMThAbGlueQ==","user-agent":"freeswitch-xml/1.0","host":"192.168.2.101:8008","accept":"*/*","content-length":"1243","content-type":"application/x-www-form-urlencoded"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/v1/fs/directory","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-08-16T05:57:53.428Z"}
{"date":"Mon Aug 27 2018 15:59:29 GMT+0800 (CST)","process":{"pid":47631,"uid":501,"gid":20,"cwd":"/Users/linyong/xcode/kefu/service","execPath":"/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","version":"v8.9.3","argv":["/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","/Users/linyong/xcode/kefu/service/dist/app.js"],"memoryUsage":{"rss":28008448,"heapTotal":30306304,"heapUsed":26429320,"external":17914228}},"os":{"loadavg":[12.84765625,9.60595703125,9.060546875],"uptime":957373},"trace":[{"column":37,"file":"/Users/linyong/xcode/kefu/service/dist/controllers/user.js","function":null,"line":453,"method":null,"native":false},{"column":23,"file":"/Users/linyong/xcode/kefu/service/dist/controllers/user.js","function":"step","line":41,"method":null,"native":false},{"column":53,"file":"/Users/linyong/xcode/kefu/service/dist/controllers/user.js","function":"Object.next","line":22,"method":"next","native":false},{"column":71,"file":"/Users/linyong/xcode/kefu/service/dist/controllers/user.js","function":null,"line":16,"method":null,"native":false},{"column":null,"file":null,"function":"new Promise","line":null,"method":null,"native":false},{"column":12,"file":"/Users/linyong/xcode/kefu/service/dist/controllers/user.js","function":"__awaiter","line":12,"method":null,"native":false},{"column":16,"file":"/Users/linyong/xcode/kefu/service/dist/controllers/user.js","function":"UserController.registVisitor","line":444,"method":"registVisitor","native":false},{"column":34,"file":"/Users/linyong/xcode/kefu/service/dist/routes/webApi.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js","function":"next","line":137,"method":null,"native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":"complete","line":250,"method":null,"native":false},{"column":15,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":null,"line":257,"method":null,"native":false},{"column":14,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/authenticator.js","function":"pass","line":421,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/authenticator.js","function":"Authenticator.transformAuthInfo","line":443,"method":"transformAuthInfo","native":false},{"column":22,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":null,"line":254,"method":null,"native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/http/request.js","function":"IncomingMessage.req.login.req.logIn","line":63,"method":"logIn","native":false}],"stack":["TypeError: Cannot read property 'apikey' of undefined","    at UserController.<anonymous> (/Users/linyong/xcode/kefu/service/dist/controllers/user.js:453:37)","    at step (/Users/linyong/xcode/kefu/service/dist/controllers/user.js:41:23)","    at Object.next (/Users/linyong/xcode/kefu/service/dist/controllers/user.js:22:53)","    at /Users/linyong/xcode/kefu/service/dist/controllers/user.js:16:71","    at new Promise (<anonymous>)","    at __awaiter (/Users/linyong/xcode/kefu/service/dist/controllers/user.js:12:12)","    at UserController.registVisitor (/Users/linyong/xcode/kefu/service/dist/controllers/user.js:444:16)","    at /Users/linyong/xcode/kefu/service/dist/routes/webApi.js:45:34","    at Layer.handle [as handle_request] (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js:95:5)","    at next (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js:137:13)","    at complete (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:250:13)","    at /Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:257:15","    at pass (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/authenticator.js:421:14)","    at Authenticator.transformAuthInfo (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/authenticator.js:443:5)","    at /Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:254:22","    at IncomingMessage.req.login.req.logIn (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/http/request.js:63:13)"],"req":{"url":"/api/v1/user/signvisitor","headers":{"host":"192.168.2.101:8008","connection":"keep-alive","content-length":"178","pragma":"no-cache","cache-control":"no-cache","accept":"application/json, text/plain, */*","origin":"http://localhost:8100","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0ZW5hbnRJZCI6ImJhaWR1MS5jb20iLCJpYXQiOjE1MzUzNDIzNzQsImV4cCI6MTUzNjYzODM3NH0.nk_y29IpLAeSbaZVNDfMyV0-BRoAyCJ-_eFLun4utkA","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36","content-type":"application/json","referer":"http://localhost:8100/?apikey=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0ZW5hbnRJZCI6ImJhaWR1MS5jb20iLCJpYXQiOjE1MzUzNDIzNzQsImV4cCI6MTUzNjYzODM3NH0.nk_y29IpLAeSbaZVNDfMyV0-BRoAyCJ-_eFLun4utkA","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en;q=0.8"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/v1/user/signvisitor","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-08-27T07:59:29.960Z"}
{"date":"Mon Aug 27 2018 15:59:32 GMT+0800 (CST)","process":{"pid":47631,"uid":501,"gid":20,"cwd":"/Users/linyong/xcode/kefu/service","execPath":"/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","version":"v8.9.3","argv":["/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","/Users/linyong/xcode/kefu/service/dist/app.js"],"memoryUsage":{"rss":29212672,"heapTotal":30306304,"heapUsed":26337704,"external":17907820}},"os":{"loadavg":[13.259765625,9.7451171875,9.11279296875],"uptime":957376},"trace":[{"column":37,"file":"/Users/linyong/xcode/kefu/service/dist/controllers/user.js","function":null,"line":453,"method":null,"native":false},{"column":23,"file":"/Users/linyong/xcode/kefu/service/dist/controllers/user.js","function":"step","line":41,"method":null,"native":false},{"column":53,"file":"/Users/linyong/xcode/kefu/service/dist/controllers/user.js","function":"Object.next","line":22,"method":"next","native":false},{"column":71,"file":"/Users/linyong/xcode/kefu/service/dist/controllers/user.js","function":null,"line":16,"method":null,"native":false},{"column":null,"file":null,"function":"new Promise","line":null,"method":null,"native":false},{"column":12,"file":"/Users/linyong/xcode/kefu/service/dist/controllers/user.js","function":"__awaiter","line":12,"method":null,"native":false},{"column":16,"file":"/Users/linyong/xcode/kefu/service/dist/controllers/user.js","function":"UserController.registVisitor","line":444,"method":"registVisitor","native":false},{"column":34,"file":"/Users/linyong/xcode/kefu/service/dist/routes/webApi.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js","function":"next","line":137,"method":null,"native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":"complete","line":250,"method":null,"native":false},{"column":15,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":null,"line":257,"method":null,"native":false},{"column":14,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/authenticator.js","function":"pass","line":421,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/authenticator.js","function":"Authenticator.transformAuthInfo","line":443,"method":"transformAuthInfo","native":false},{"column":22,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":null,"line":254,"method":null,"native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/http/request.js","function":"IncomingMessage.req.login.req.logIn","line":63,"method":"logIn","native":false}],"stack":["TypeError: Cannot read property 'apikey' of undefined","    at UserController.<anonymous> (/Users/linyong/xcode/kefu/service/dist/controllers/user.js:453:37)","    at step (/Users/linyong/xcode/kefu/service/dist/controllers/user.js:41:23)","    at Object.next (/Users/linyong/xcode/kefu/service/dist/controllers/user.js:22:53)","    at /Users/linyong/xcode/kefu/service/dist/controllers/user.js:16:71","    at new Promise (<anonymous>)","    at __awaiter (/Users/linyong/xcode/kefu/service/dist/controllers/user.js:12:12)","    at UserController.registVisitor (/Users/linyong/xcode/kefu/service/dist/controllers/user.js:444:16)","    at /Users/linyong/xcode/kefu/service/dist/routes/webApi.js:45:34","    at Layer.handle [as handle_request] (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js:95:5)","    at next (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js:137:13)","    at complete (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:250:13)","    at /Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:257:15","    at pass (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/authenticator.js:421:14)","    at Authenticator.transformAuthInfo (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/authenticator.js:443:5)","    at /Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:254:22","    at IncomingMessage.req.login.req.logIn (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/http/request.js:63:13)"],"req":{"url":"/api/v1/user/signvisitor","headers":{"host":"192.168.2.101:8008","connection":"keep-alive","content-length":"178","pragma":"no-cache","cache-control":"no-cache","accept":"application/json, text/plain, */*","origin":"http://localhost:8100","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0ZW5hbnRJZCI6ImJhaWR1MS5jb20iLCJpYXQiOjE1MzUzNDIzNzQsImV4cCI6MTUzNjYzODM3NH0.nk_y29IpLAeSbaZVNDfMyV0-BRoAyCJ-_eFLun4utkA","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36","content-type":"application/json","referer":"http://localhost:8100/?apikey=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0ZW5hbnRJZCI6ImJhaWR1MS5jb20iLCJpYXQiOjE1MzUzNDIzNzQsImV4cCI6MTUzNjYzODM3NH0.nk_y29IpLAeSbaZVNDfMyV0-BRoAyCJ-_eFLun4utkA","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en;q=0.8"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/v1/user/signvisitor","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-08-27T07:59:32.028Z"}
{"date":"Mon Aug 27 2018 16:07:08 GMT+0800 (CST)","process":{"pid":47766,"uid":501,"gid":20,"cwd":"/Users/linyong/xcode/kefu/service","execPath":"/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","version":"v8.9.3","argv":["/Users/linyong/.nvm/versions/node/v8.9.3/bin/node","/Users/linyong/xcode/kefu/service/dist/app.js"],"memoryUsage":{"rss":51003392,"heapTotal":29782016,"heapUsed":26563992,"external":17988447}},"os":{"loadavg":[7.5400390625,8.32177734375,8.755859375],"uptime":957832},"trace":[{"column":37,"file":"/Users/linyong/xcode/kefu/service/dist/controllers/user.js","function":null,"line":454,"method":null,"native":false},{"column":23,"file":"/Users/linyong/xcode/kefu/service/dist/controllers/user.js","function":"step","line":41,"method":null,"native":false},{"column":53,"file":"/Users/linyong/xcode/kefu/service/dist/controllers/user.js","function":"Object.next","line":22,"method":"next","native":false},{"column":71,"file":"/Users/linyong/xcode/kefu/service/dist/controllers/user.js","function":null,"line":16,"method":null,"native":false},{"column":null,"file":null,"function":"new Promise","line":null,"method":null,"native":false},{"column":12,"file":"/Users/linyong/xcode/kefu/service/dist/controllers/user.js","function":"__awaiter","line":12,"method":null,"native":false},{"column":16,"file":"/Users/linyong/xcode/kefu/service/dist/controllers/user.js","function":"UserController.registVisitor","line":444,"method":"registVisitor","native":false},{"column":34,"file":"/Users/linyong/xcode/kefu/service/dist/routes/webApi.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js","function":"next","line":137,"method":null,"native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":"complete","line":250,"method":null,"native":false},{"column":15,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":null,"line":257,"method":null,"native":false},{"column":14,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/authenticator.js","function":"pass","line":421,"method":null,"native":false},{"column":5,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/authenticator.js","function":"Authenticator.transformAuthInfo","line":443,"method":"transformAuthInfo","native":false},{"column":22,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js","function":null,"line":254,"method":null,"native":false},{"column":13,"file":"/Users/linyong/xcode/kefu/service/node_modules/passport/lib/http/request.js","function":"IncomingMessage.req.login.req.logIn","line":63,"method":"logIn","native":false}],"stack":["TypeError: Cannot read property 'apikey' of undefined","    at UserController.<anonymous> (/Users/linyong/xcode/kefu/service/dist/controllers/user.js:454:37)","    at step (/Users/linyong/xcode/kefu/service/dist/controllers/user.js:41:23)","    at Object.next (/Users/linyong/xcode/kefu/service/dist/controllers/user.js:22:53)","    at /Users/linyong/xcode/kefu/service/dist/controllers/user.js:16:71","    at new Promise (<anonymous>)","    at __awaiter (/Users/linyong/xcode/kefu/service/dist/controllers/user.js:12:12)","    at UserController.registVisitor (/Users/linyong/xcode/kefu/service/dist/controllers/user.js:444:16)","    at /Users/linyong/xcode/kefu/service/dist/routes/webApi.js:45:34","    at Layer.handle [as handle_request] (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/layer.js:95:5)","    at next (/Users/linyong/xcode/kefu/service/node_modules/express/lib/router/route.js:137:13)","    at complete (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:250:13)","    at /Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:257:15","    at pass (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/authenticator.js:421:14)","    at Authenticator.transformAuthInfo (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/authenticator.js:443:5)","    at /Users/linyong/xcode/kefu/service/node_modules/passport/lib/middleware/authenticate.js:254:22","    at IncomingMessage.req.login.req.logIn (/Users/linyong/xcode/kefu/service/node_modules/passport/lib/http/request.js:63:13)"],"req":{"url":"/api/v1/user/signvisitor","headers":{"host":"192.168.2.101:8008","connection":"keep-alive","content-length":"178","pragma":"no-cache","cache-control":"no-cache","accept":"application/json, text/plain, */*","origin":"http://localhost:8100","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0ZW5hbnRJZCI6ImJhaWR1MS5jb20iLCJpYXQiOjE1MzUzNDIzNzQsImV4cCI6MTUzNjYzODM3NH0.nk_y29IpLAeSbaZVNDfMyV0-BRoAyCJ-_eFLun4utkA","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36","content-type":"application/json","referer":"http://localhost:8100/?apikey=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0ZW5hbnRJZCI6ImJhaWR1MS5jb20iLCJpYXQiOjE1MzUzNDIzNzQsImV4cCI6MTUzNjYzODM3NH0.nk_y29IpLAeSbaZVNDfMyV0-BRoAyCJ-_eFLun4utkA","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en;q=0.8"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/v1/user/signvisitor","query":{}},"level":"error","message":"middlewareError","timestamp":"2018-08-27T08:07:08.716Z"}
